# roman-simulate-dr

Roman Simulate Data Release

This repository contains tools for simulating the data release process for the Roman Space Telescope.

# Installation

Clone this repository:

```shell
git clone git@github.com:mairanteodoro/roman_simulate_dr.git
```

Install the tools locally:

```shell
pip install .
```

Generate the input catalog for `romanisim` containing COSMOS galaxies,
Gaia stars, and additional random stellar sources:

```shell
rdr_generate_input_catalog \
  --obs-plan observation_plan.ecsv \
  --output-filename romanisim_input_catalog.ecsv
```

Then, generate the L1 simulated images using `romanisim`:

```shell
rdr_generate_simulated_images \
  --obs-plan observation_plan.ecsv \
  --input-filename romanisim_input_catalog.ecsv
```

# Observation Plan File

The observation plan file (`observation_plan.ecsv` in the example above)
must have the same format as the one produced by the Astronomer's Proposal Tool
(APT), which can be generated by exporting the program as "Simulator input."
That will creates a file containing the following columns:

```
- RA (float64)
- DEC (float64)
- PA (float64)
- BANDPASS (string)
- MA_TABLE_NUMBER (int64)
- DURATION (int64)
- PLAN (int64)
- PASS (int64)
- SEGMENT (int64)
- OBSERVATION (int64)
- VISIT (int64)
- EXPOSURE (int64)
```

Below is an example of how the content of the observation plan file should
look like for a program that contains two passes (one with $\text{PA}=0^\circ$
and another with $\text{PA}=90^\circ$) with two visits each (shifted by $90$\"
in both axes), and one exposure in each visit (using all filters).

```
RA DEC PA BANDPASS MA_TABLE_NUMBER DURATION PLAN PASS SEGMENT OBSERVATION VISIT EXPOSURE
270.000000 66.000000 0.000000 F062 5 139 1 1 1 1 1 1
270.000000 66.000000 0.000000 F087 5 139 1 1 1 1 1 1
270.000000 66.000000 0.000000 F106 5 139 1 1 1 1 1 1
270.000000 66.000000 0.000000 F129 5 139 1 1 1 1 1 1
270.000000 66.000000 0.000000 F158 5 139 1 1 1 1 1 1
270.000000 66.000000 0.000000 F184 5 139 1 1 1 1 1 1
270.000000 66.000000 0.000000 F213 5 139 1 1 1 1 1 1
270.061000 66.025000 0.000000 F062 5 139 1 1 1 1 2 1
270.061000 66.025000 0.000000 F087 5 139 1 1 1 1 2 1
270.061000 66.025000 0.000000 F106 5 139 1 1 1 1 2 1
270.061000 66.025000 0.000000 F129 5 139 1 1 1 1 2 1
270.061000 66.025000 0.000000 F158 5 139 1 1 1 1 2 1
270.061000 66.025000 0.000000 F184 5 139 1 1 1 1 2 1
270.061000 66.025000 0.000000 F213 5 139 1 1 1 1 2 1
270.000000 66.000000 90.00000 F062 5 139 1 2 1 1 1 1
270.000000 66.000000 90.00000 F087 5 139 1 2 1 1 1 1
270.000000 66.000000 90.00000 F106 5 139 1 2 1 1 1 1
270.000000 66.000000 90.00000 F129 5 139 1 2 1 1 1 1
270.000000 66.000000 90.00000 F158 5 139 1 2 1 1 1 1
270.000000 66.000000 90.00000 F184 5 139 1 2 1 1 1 1
270.000000 66.000000 90.00000 F213 5 139 1 2 1 1 1 1
270.061000 66.025000 90.00000 F062 5 139 1 2 1 1 2 1
270.061000 66.025000 90.00000 F087 5 139 1 2 1 1 2 1
270.061000 66.025000 90.00000 F106 5 139 1 2 1 1 2 1
270.061000 66.025000 90.00000 F129 5 139 1 2 1 1 2 1
270.061000 66.025000 90.00000 F158 5 139 1 2 1 1 2 1
270.061000 66.025000 90.00000 F184 5 139 1 2 1 1 2 1
270.061000 66.025000 90.00000 F213 5 139 1 2 1 1 2 1
```
